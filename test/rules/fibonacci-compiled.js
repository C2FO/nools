(function(){ function _getCompiled(nools){ return nools.compile({"define":[{"name":"Fibonacci","properties":"({ sequence : null, value : -1, constructor : function(sequence, value){ this.sequence = sequence; this.value = value || -1; } })"},{"name":"Result","properties":"({ value : 0, constructor : function(value){ this.value = value; } })"}],"rules":[{"name":"Recurse","options":{},"constraints":[["not","Fibonacci","nf","nf.sequence == 1"],["Fibonacci","f","f.value == -1 && f.sequence != 1"]],"action":"assert(new Fibonacci(f.sequence - 1)); "},{"name":"Boostrap","options":{},"constraints":[["Fibonacci","f","f.value == -1 && (f.sequence == 1 || f.sequence == 2)"]],"action":"modify(f, function(){ this.value = 1; }); "},{"name":"Calculate","options":{},"constraints":[["Fibonacci","f1","f1.value != -1",{"sequence":"s1"}],["Fibonacci","f2","f2.value != -1 && f2.sequence == s1 + 1",{"sequence":"s2"}],["Fibonacci","f3","f3.value == -1 && f3.sequence == s2 + 1"],["Result","r"]],"action":"var v = f1.value + f2.value; modify(f3, function(){ this.value = r.value = v; }); "}],"scope":[]}, {name : "fibonacci-compiled"}); } if ("undefined" !== typeof exports) { if ("undefined" !== typeof module && module.exports) { return _getCompiled(require("../../")); } } else if ("function" === typeof define && define.amd) { define(["nools"], function (nools) { return _getCompiled(nools); }); } else { _getCompiled(this.nools); } }).call(this);
